{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\interactive-comments-section-master\\\\src\\\\Components\\\\Comment.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./Styles/Comment.scss\";\nimport \"./Styles/AddComment.scss\";\nimport \"./Styles/DeleteModal.scss\";\nimport { CommentHeader, CommentFooter, CommentVotes } from \"./commentParts\";\n/* Блок ответа */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ReplyContainer = _ref => {\n  let {\n    commentData,\n    updateScore,\n    addReply,\n    editComment,\n    deleteComment,\n    setDeleteModalState\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reply-container\",\n    children: commentData.map(data => /*#__PURE__*/_jsxDEV(Reply, {\n      commentData: data,\n      updateScore: updateScore,\n      addNewReply: addReply,\n      editComment: editComment,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, data.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n};\n/* Блок ответа */\n\n/* Удаление модалки */\n\n\n_c = ReplyContainer;\n\nconst DeleteModal = _ref2 => {\n  let {\n    setDeleting,\n    deleteComment,\n    setDeleteModalState\n  } = _ref2;\n\n  const cancelDelete = () => {\n    setDeleting(false);\n    setDeleteModalState(false);\n  };\n\n  const deleteBtnClick = () => {\n    deleteComment();\n    setDeleteModalState(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"delete-confirmation-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delete-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Delete comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-message\",\n        children: \"Are you sure you want to delete this comment? This will remove the comment and can't be undone.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: cancelDelete,\n          children: \"No, cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-btn\",\n          onClick: deleteBtnClick,\n          children: \"Yes, delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n/* Удаление модалки */\n\n/* Ответы */\n\n\n_c2 = DeleteModal;\n\nconst Reply = _ref3 => {\n  _s();\n\n  let {\n    commentData,\n    updateScore,\n    addNewReply,\n    editComment,\n    deleteComment,\n    setDeleteModalState\n  } = _ref3;\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false); // adding reply\n\n  const addReply = newReply => {\n    addNewReply(newReply);\n    setReplying(false);\n  };\n\n  const commentContent = () => {\n    const text = commentData.content.trim().split(\" \");\n    const firstWord = text.shift().split(\",\");\n    return !editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"replyingTo\",\n        children: firstWord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), text.join(\" \")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"content-edit-box\",\n      value: content,\n      onChange: e => {\n        setContent(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"reply\");\n    setEditing(false);\n  }; // delete comment\n\n\n  const deleteReply = () => {\n    deleteComment(commentData.id, \"reply\");\n    setDeleting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `comment-container ${commentData.replies[0] !== undefined ? \"gap\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(CommentVotes, {\n        updateScore: updateScore,\n        commentData: commentData,\n        type: \"reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment--body\",\n        children: [/*#__PURE__*/_jsxDEV(CommentHeader, {\n          commentData: commentData,\n          setReplying: setReplying,\n          setDeleting: setDeleting,\n          setDeleteModalState: setDeleteModalState,\n          setEditing: setEditing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), commentContent(), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-btn\",\n          onClick: updateComment,\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentFooter, {\n        updateScore: updateScore,\n        commentData: commentData,\n        setReplying: setReplying,\n        setDeleting: setDeleting,\n        setDeleteModalState: setDeleteModalState,\n        setEditing: setEditing,\n        type: \"reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), replying && /*#__PURE__*/_jsxDEV(AddComment, {\n      buttonValue: \"reply\",\n      addComments: addReply,\n      replyingTo: commentData.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), commentData.replies.map(reply => /*#__PURE__*/_jsxDEV(Reply, {\n      commentData: reply,\n      addReply: addReply\n    }, reply.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this)), deleting && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      setDeleting: setDeleting,\n      deleteComment: deleteReply,\n      setDeleteModalState: setDeleteModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n/* Ответы */\n\n\n_s(Reply, \"9mZrKds04+d9MZiitrBvhWuSblU=\");\n\n_c3 = Reply;\n\nconst Comment = _ref4 => {\n  _s2();\n\n  let {\n    commentData,\n    updateScore,\n    updateReplies,\n    editComment,\n    commentDelete,\n    setDeleteModalState\n  } = _ref4;\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  const addReply = newReply => {\n    const replies = [...commentData.replies, newReply];\n    updateReplies(replies, commentData.id);\n    setReplying(false);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"comment\");\n    setEditing(false);\n  };\n\n  const deleteComment = (id, type) => {\n    const finalType = type !== undefined ? type : \"comment\";\n    const finalId = id !== undefined ? id : commentData.id;\n    commentDelete(finalId, finalType, commentData.id);\n    setDeleting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `comment-container ${commentData.replies[0] !== undefined ? \"reply-container-gap\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(CommentVotes, {\n        updateScore: updateScore,\n        commentData: commentData,\n        type: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment--body\",\n        children: [/*#__PURE__*/_jsxDEV(CommentHeader, {\n          commentData: commentData,\n          replying: replying,\n          setReplying: setReplying,\n          setDeleting: setDeleting,\n          setDeleteModalState: setDeleteModalState,\n          setEditing: setEditing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), !editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-content\",\n          children: commentData.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"content-edit-box\",\n          value: content,\n          onChange: e => {\n            setContent(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-btn\",\n          onClick: updateComment,\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentFooter, {\n        updateScore: updateScore,\n        commentData: commentData,\n        setReplying: setReplying,\n        setDeleting: setDeleting,\n        setDeleteModalState: setDeleteModalState,\n        setEditing: setEditing,\n        type: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), replying && /*#__PURE__*/_jsxDEV(AddComment, {\n      buttonValue: \"reply\",\n      addComments: addReply,\n      replyingTo: commentData.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this), commentData.replies !== [] && /*#__PURE__*/_jsxDEV(ReplyContainer, {\n      commentData: commentData.replies,\n      updateScore: updateScore,\n      addReply: addReply,\n      editComment: editComment,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, commentData.replies.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this), deleting && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      setDeleting: setDeleting,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n/* Добавление комментария */\n\n\n_s2(Comment, \"9mZrKds04+d9MZiitrBvhWuSblU=\");\n\n_c4 = Comment;\n\nconst AddComment = _ref5 => {\n  _s3();\n\n  let {\n    buttonValue,\n    addComments,\n    replyingTo\n  } = _ref5;\n  const replyingToUser = replyingTo ? `@${replyingTo}, ` : \"\";\n  const [comment, setComment] = useState(replyingToUser);\n\n  const clickHandler = () => {\n    if (comment === \"\" || comment === \" \") return;\n    const newComment = {\n      id: Math.floor(Math.random() * 100) + 5,\n      content: replyingToUser + comment.replace(replyingToUser, \"\"),\n      createdAt: new Date(),\n      score: 0,\n      username: \"juliusomo\",\n      currentUser: true,\n      replies: []\n    };\n    addComments(newComment);\n    setComment(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-pic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"comment-input\",\n      placeholder: \"Add a comment\",\n      value: comment,\n      onChange: e => {\n        setComment(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"send-btn-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-pic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-btn\",\n        onClick: clickHandler,\n        children: buttonValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n/* Добавление комментария */\n\n\n_s3(AddComment, \"Mr9KNzV1B56l84fQ8zthtOGT7Yc=\");\n\n_c5 = AddComment;\nexport { Comment, Reply, AddComment, DeleteModal, ReplyContainer };\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"ReplyContainer\");\n$RefreshReg$(_c2, \"DeleteModal\");\n$RefreshReg$(_c3, \"Reply\");\n$RefreshReg$(_c4, \"Comment\");\n$RefreshReg$(_c5, \"AddComment\");","map":{"version":3,"sources":["D:/University/interactive-comments-section-master/src/Components/Comment.js"],"names":["useState","CommentHeader","CommentFooter","CommentVotes","ReplyContainer","commentData","updateScore","addReply","editComment","deleteComment","setDeleteModalState","map","data","id","DeleteModal","setDeleting","cancelDelete","deleteBtnClick","Reply","addNewReply","replying","setReplying","editing","setEditing","content","setContent","deleting","newReply","commentContent","text","trim","split","firstWord","shift","join","e","target","value","updateComment","deleteReply","replies","undefined","username","reply","Comment","updateReplies","commentDelete","type","finalType","finalId","AddComment","buttonValue","addComments","replyingTo","replyingToUser","comment","setComment","clickHandler","newComment","Math","floor","random","replace","createdAt","Date","score","currentUser"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\n\nimport \"./Styles/Comment.scss\";\nimport \"./Styles/AddComment.scss\";\nimport \"./Styles/DeleteModal.scss\";\n\nimport { CommentHeader, CommentFooter, CommentVotes } from \"./commentParts\";\n\n\n/* Блок ответа */\nconst ReplyContainer = ({\n  commentData,\n  updateScore,\n  addReply,\n  editComment,\n  deleteComment,\n  setDeleteModalState,\n}) => {\n  return (\n    <div className=\"reply-container\">\n      {commentData.map((data) => (\n        <Reply\n          key={data.id}\n          commentData={data}\n          updateScore={updateScore}\n          addNewReply={addReply}\n          editComment={editComment}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      ))}\n    </div>\n  );\n};\n/* Блок ответа */\n\n\n/* Удаление модалки */\nconst DeleteModal = ({ setDeleting, deleteComment, setDeleteModalState }) => {\n  const cancelDelete = () => {\n    setDeleting(false);\n    setDeleteModalState(false);\n  };\n\n  const deleteBtnClick = () => {\n    deleteComment();\n    setDeleteModalState(false);\n  };\n\n  return (\n    <div className=\"delete-confirmation-wrapper\">\n      <div className=\"delete-container\">\n        <div className=\"title\">Delete comment</div>\n        <div className=\"confirmation-message\">\n          Are you sure you want to delete this comment? This will remove the\n          comment and can't be undone.\n        </div>\n        <div className=\"btn-container\">\n          <button className=\"cancel-btn\" onClick={cancelDelete}>\n            No, cancel\n          </button>\n          <button className=\"delete-btn\" onClick={deleteBtnClick}>\n            Yes, delete\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n/* Удаление модалки */\n\n\n/* Ответы */\nconst Reply = ({\n  commentData,\n  updateScore,\n  addNewReply,\n  editComment,\n  deleteComment,\n  setDeleteModalState,\n}) => {\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  // adding reply\n  const addReply = (newReply) => {\n    addNewReply(newReply);\n    setReplying(false);\n  };\n\n  const commentContent = () => {\n    const text = commentData.content.trim().split(\" \");\n    const firstWord = text.shift().split(\",\");\n\n    return !editing ? (\n      <div className=\"comment-content\">\n        <span className=\"replyingTo\">{firstWord}</span>\n        {text.join(\" \")}\n      </div>\n    ) : (\n      <textarea\n        className=\"content-edit-box\"\n        value={content}\n        onChange={(e) => {\n          setContent(e.target.value);\n        }}\n      />\n    );\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"reply\");\n    setEditing(false);\n  };\n\n  // delete comment\n  const deleteReply = () => {\n    deleteComment(commentData.id, \"reply\");\n    setDeleting(false);\n  };\n\n  return (\n    <div\n      className={`comment-container ${\n        commentData.replies[0] !== undefined ? \"gap\" : \"\"\n      }`}\n    >\n      <div className=\"comment\">\n        <CommentVotes\n          updateScore={updateScore}\n          commentData={commentData}\n          type=\"reply\"\n        />\n        <div className=\"comment--body\">\n          <CommentHeader\n            commentData={commentData}\n            setReplying={setReplying}\n            setDeleting={setDeleting}\n            setDeleteModalState={setDeleteModalState}\n            setEditing={setEditing}\n          />\n\n          {commentContent()}\n          {editing && (\n            <button className=\"update-btn\" onClick={updateComment}>\n              update\n            </button>\n          )}\n        </div>\n        <CommentFooter\n          updateScore={updateScore}\n          commentData={commentData}\n          setReplying={setReplying}\n          setDeleting={setDeleting}\n          setDeleteModalState={setDeleteModalState}\n          setEditing={setEditing}\n          type=\"reply\"\n        />\n      </div>\n\n      {replying && (\n        <AddComment\n          buttonValue={\"reply\"}\n          addComments={addReply}\n          replyingTo={commentData.username}\n        />\n      )}\n      {commentData.replies.map((reply) => (\n        <Reply key={reply.id} commentData={reply} addReply={addReply} />\n      ))}\n\n      {deleting && (\n        <DeleteModal\n          setDeleting={setDeleting}\n          deleteComment={deleteReply}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n    </div>\n  );\n};\n/* Ответы */\n\n\n\nconst Comment = ({\n  commentData,\n  updateScore,\n  updateReplies,\n  editComment,\n  commentDelete,\n  setDeleteModalState,\n}) => {\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  const addReply = (newReply) => {\n    const replies = [...commentData.replies, newReply];\n    updateReplies(replies, commentData.id);\n    setReplying(false);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"comment\");\n    setEditing(false);\n  };\n\n  const deleteComment = (id, type) => {\n    const finalType = type !== undefined ? type : \"comment\";\n    const finalId = id !== undefined ? id : commentData.id;\n    commentDelete(finalId, finalType, commentData.id);\n    setDeleting(false);\n  };\n\n  return (\n    <div\n      className={`comment-container ${\n        commentData.replies[0] !== undefined ? \"reply-container-gap\" : \"\"\n      }`}\n    >\n      <div className=\"comment\">\n        <CommentVotes\n          updateScore={updateScore}\n          commentData={commentData}\n          type=\"comment\"\n        />\n        <div className=\"comment--body\">\n          <CommentHeader\n            commentData={commentData}\n            replying={replying}\n            setReplying={setReplying}\n            setDeleting={setDeleting}\n            setDeleteModalState={setDeleteModalState}\n            setEditing={setEditing}\n          />\n          {!editing ? (\n            <div className=\"comment-content\">{commentData.content}</div>\n          ) : (\n            <textarea\n              className=\"content-edit-box\"\n              value={content}\n              onChange={(e) => {\n                setContent(e.target.value);\n              }}\n            />\n          )}\n          {editing && (\n            <button className=\"update-btn\" onClick={updateComment}>\n              update\n            </button>\n          )}\n        </div>\n        <CommentFooter\n          updateScore={updateScore}\n          commentData={commentData}\n          setReplying={setReplying}\n          setDeleting={setDeleting}\n          setDeleteModalState={setDeleteModalState}\n          setEditing={setEditing}\n          type=\"comment\"\n        />{\" \"}\n      </div>\n\n      {replying && (\n        <AddComment\n          buttonValue={\"reply\"}\n          addComments={addReply}\n          replyingTo={commentData.username}\n        />\n      )}\n      {commentData.replies !== [] && (\n        <ReplyContainer\n          key={commentData.replies.id}\n          commentData={commentData.replies}\n          updateScore={updateScore}\n          addReply={addReply}\n          editComment={editComment}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n\n      {deleting && (\n        <DeleteModal\n          setDeleting={setDeleting}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n    </div>\n  );\n};\n\n/* Добавление комментария */\nconst AddComment = ({ buttonValue, addComments, replyingTo }) => {\n  const replyingToUser = replyingTo ? `@${replyingTo}, ` : \"\";\n  const [comment, setComment] = useState(replyingToUser);\n\n  const clickHandler = () => {\n    if (comment === \"\" || comment === \" \") return;\n\n    const newComment = {\n      id: Math.floor(Math.random() * 100) + 5,\n      content: replyingToUser + comment.replace(replyingToUser, \"\"),\n      createdAt: new Date(),\n      score: 0,\n      username: \"juliusomo\",\n      currentUser: true,\n      replies: [],\n    };\n\n    addComments(newComment);\n    setComment(\"\");\n  };\n\n  return (\n    <div className=\"add-comment\">\n      <div className=\"profile-pic\"></div>\n      <textarea\n        className=\"comment-input\"\n        placeholder=\"Add a comment\"\n        value={comment}\n        onChange={(e) => {\n          setComment(e.target.value);\n        }}\n      />\n      <div className=\"send-btn-container\">\n        <div className=\"profile-pic\"></div>\n        <button className=\"add-btn\" onClick={clickHandler}>\n          {buttonValue}\n        </button>\n      </div>\n    </div>\n  );\n};\n\n/* Добавление комментария */\n\nexport {\n  Comment,\n  Reply,\n  AddComment,\n  DeleteModal,\n  ReplyContainer,\n}\n\n"]},"metadata":{},"sourceType":"module"}