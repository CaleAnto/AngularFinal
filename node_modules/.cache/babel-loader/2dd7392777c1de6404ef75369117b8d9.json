{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\interactive-comments-section-master\\\\src\\\\Components\\\\Comment.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./Styles/Comment.scss\";\nimport \"./Styles/AddComment.scss\";\nimport \"./Styles/DeleteModal.scss\";\nimport { CommentHeader, CommentFooter, CommentVotes } from \"./commentParts\";\n/* Добавление комментария */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddComment = _ref => {\n  _s();\n\n  let {\n    buttonValue,\n    addComments,\n    replyingTo\n  } = _ref;\n  const replyingToUser = replyingTo ? `@${replyingTo}, ` : \"\";\n  const [comment, setComment] = useState(replyingToUser);\n\n  const clickHandler = () => {\n    if (comment === \"\" || comment === \" \") return;\n    const newComment = {\n      id: Math.floor(Math.random() * 100) + 5,\n      content: replyingToUser + comment.replace(replyingToUser, \"\"),\n      createdAt: new Date(),\n      score: 0,\n      username: \"juliusomo\",\n      currentUser: true,\n      replies: []\n    };\n    addComments(newComment);\n    setComment(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-pic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"comment-input\",\n      placeholder: \"Add a comment\",\n      value: comment,\n      onChange: e => {\n        setComment(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"send-btn-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-pic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-btn\",\n        onClick: clickHandler,\n        children: buttonValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n/* Добавление комментария */\n\n/* Блок ответа */\n\n\n_s(AddComment, \"Mr9KNzV1B56l84fQ8zthtOGT7Yc=\");\n\n_c = AddComment;\n\nconst ReplyContainer = _ref2 => {\n  let {\n    commentData,\n    updateScore,\n    addReply,\n    editComment,\n    deleteComment,\n    setDeleteModalState\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reply-container\",\n    children: commentData.map(data => /*#__PURE__*/_jsxDEV(Reply, {\n      commentData: data,\n      updateScore: updateScore,\n      addNewReply: addReply,\n      editComment: editComment,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, data.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n/* Блок ответа */\n\n/* Удаление модалки */\n\n\n_c2 = ReplyContainer;\n\nconst DeleteModal = _ref3 => {\n  let {\n    setDeleting,\n    deleteComment,\n    setDeleteModalState\n  } = _ref3;\n\n  const cancelDelete = () => {\n    setDeleting(false);\n    setDeleteModalState(false);\n  };\n\n  const deleteBtnClick = () => {\n    deleteComment();\n    setDeleteModalState(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"delete-confirmation-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delete-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Delete comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-message\",\n        children: \"Are you sure you want to delete this comment? This will remove the comment and can't be undone.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: cancelDelete,\n          children: \"No, cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-btn\",\n          onClick: deleteBtnClick,\n          children: \"Yes, delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n/* Удаление модалки */\n\n/* Ответы */\n\n\n_c3 = DeleteModal;\n\nconst Reply = _ref4 => {\n  _s2();\n\n  let {\n    commentData,\n    updateScore,\n    addNewReply,\n    editComment,\n    deleteComment,\n    setDeleteModalState\n  } = _ref4;\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false); // adding reply\n\n  const addReply = newReply => {\n    addNewReply(newReply);\n    setReplying(false);\n  };\n\n  const commentContent = () => {\n    const text = commentData.content.trim().split(\" \");\n    const firstWord = text.shift().split(\",\");\n    return !editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"replyingTo\",\n        children: firstWord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), text.join(\" \")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"content-edit-box\",\n      value: content,\n      onChange: e => {\n        setContent(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"reply\");\n    setEditing(false);\n  }; // delete comment\n\n\n  const deleteReply = () => {\n    deleteComment(commentData.id, \"reply\");\n    setDeleting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `comment-container ${commentData.replies[0] !== undefined ? \"gap\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(CommentVotes, {\n        updateScore: updateScore,\n        commentData: commentData,\n        type: \"reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment--body\",\n        children: [/*#__PURE__*/_jsxDEV(CommentHeader, {\n          commentData: commentData,\n          setReplying: setReplying,\n          setDeleting: setDeleting,\n          setDeleteModalState: setDeleteModalState,\n          setEditing: setEditing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), commentContent(), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-btn\",\n          onClick: updateComment,\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentFooter, {\n        updateScore: updateScore,\n        commentData: commentData,\n        setReplying: setReplying,\n        setDeleting: setDeleting,\n        setDeleteModalState: setDeleteModalState,\n        setEditing: setEditing,\n        type: \"reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), replying && /*#__PURE__*/_jsxDEV(AddComment, {\n      buttonValue: \"reply\",\n      addComments: addReply,\n      replyingTo: commentData.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this), commentData.replies.map(reply => /*#__PURE__*/_jsxDEV(Reply, {\n      commentData: reply,\n      addReply: addReply\n    }, reply.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)), deleting && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      setDeleting: setDeleting,\n      deleteComment: deleteReply,\n      setDeleteModalState: setDeleteModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n/* Ответы */\n\n\n_s2(Reply, \"9mZrKds04+d9MZiitrBvhWuSblU=\");\n\n_c4 = Reply;\n\nconst Comment = _ref5 => {\n  _s3();\n\n  let {\n    commentData,\n    updateScore,\n    updateReplies,\n    editComment,\n    commentDelete,\n    setDeleteModalState\n  } = _ref5;\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  const addReply = newReply => {\n    const replies = [...commentData.replies, newReply];\n    updateReplies(replies, commentData.id);\n    setReplying(false);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"comment\");\n    setEditing(false);\n  };\n\n  const deleteComment = (id, type) => {\n    const finalType = type !== undefined ? type : \"comment\";\n    const finalId = id !== undefined ? id : commentData.id;\n    commentDelete(finalId, finalType, commentData.id);\n    setDeleting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `comment-container ${commentData.replies[0] !== undefined ? \"reply-container-gap\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(CommentVotes, {\n        updateScore: updateScore,\n        commentData: commentData,\n        type: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment--body\",\n        children: [/*#__PURE__*/_jsxDEV(CommentHeader, {\n          commentData: commentData,\n          replying: replying,\n          setReplying: setReplying,\n          setDeleting: setDeleting,\n          setDeleteModalState: setDeleteModalState,\n          setEditing: setEditing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), !editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-content\",\n          children: commentData.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"content-edit-box\",\n          value: content,\n          onChange: e => {\n            setContent(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-btn\",\n          onClick: updateComment,\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentFooter, {\n        updateScore: updateScore,\n        commentData: commentData,\n        setReplying: setReplying,\n        setDeleting: setDeleting,\n        setDeleteModalState: setDeleteModalState,\n        setEditing: setEditing,\n        type: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), replying && /*#__PURE__*/_jsxDEV(AddComment, {\n      buttonValue: \"reply\",\n      addComments: addReply,\n      replyingTo: commentData.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }, this), commentData.replies !== [] && /*#__PURE__*/_jsxDEV(ReplyContainer, {\n      commentData: commentData.replies,\n      updateScore: updateScore,\n      addReply: addReply,\n      editComment: editComment,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, commentData.replies.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this), deleting && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      setDeleting: setDeleting,\n      deleteComment: deleteComment,\n      setDeleteModalState: setDeleteModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(Comment, \"9mZrKds04+d9MZiitrBvhWuSblU=\");\n\n_c5 = Comment;\nexport { Comment, Reply, AddComment, DeleteModal, ReplyContainer };\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"AddComment\");\n$RefreshReg$(_c2, \"ReplyContainer\");\n$RefreshReg$(_c3, \"DeleteModal\");\n$RefreshReg$(_c4, \"Reply\");\n$RefreshReg$(_c5, \"Comment\");","map":{"version":3,"sources":["D:/University/interactive-comments-section-master/src/Components/Comment.js"],"names":["useState","CommentHeader","CommentFooter","CommentVotes","AddComment","buttonValue","addComments","replyingTo","replyingToUser","comment","setComment","clickHandler","newComment","id","Math","floor","random","content","replace","createdAt","Date","score","username","currentUser","replies","e","target","value","ReplyContainer","commentData","updateScore","addReply","editComment","deleteComment","setDeleteModalState","map","data","DeleteModal","setDeleting","cancelDelete","deleteBtnClick","Reply","addNewReply","replying","setReplying","editing","setEditing","setContent","deleting","newReply","commentContent","text","trim","split","firstWord","shift","join","updateComment","deleteReply","undefined","reply","Comment","updateReplies","commentDelete","type","finalType","finalId"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\n\nimport \"./Styles/Comment.scss\";\nimport \"./Styles/AddComment.scss\";\nimport \"./Styles/DeleteModal.scss\";\n\nimport { CommentHeader, CommentFooter, CommentVotes } from \"./commentParts\";\n\n/* Добавление комментария */\nconst AddComment = ({ buttonValue, addComments, replyingTo }) => {\n  const replyingToUser = replyingTo ? `@${replyingTo}, ` : \"\";\n  const [comment, setComment] = useState(replyingToUser);\n\n  const clickHandler = () => {\n    if (comment === \"\" || comment === \" \") return;\n\n    const newComment = {\n      id: Math.floor(Math.random() * 100) + 5,\n      content: replyingToUser + comment.replace(replyingToUser, \"\"),\n      createdAt: new Date(),\n      score: 0,\n      username: \"juliusomo\",\n      currentUser: true,\n      replies: [],\n    };\n\n    addComments(newComment);\n    setComment(\"\");\n  };\n\n  return (\n    <div className=\"add-comment\">\n      <div className=\"profile-pic\"></div>\n      <textarea\n        className=\"comment-input\"\n        placeholder=\"Add a comment\"\n        value={comment}\n        onChange={(e) => {\n          setComment(e.target.value);\n        }}\n      />\n      <div className=\"send-btn-container\">\n        <div className=\"profile-pic\"></div>\n        <button className=\"add-btn\" onClick={clickHandler}>\n          {buttonValue}\n        </button>\n      </div>\n    </div>\n  );\n};\n\n/* Добавление комментария */\n\n/* Блок ответа */\nconst ReplyContainer = ({\n  commentData,\n  updateScore,\n  addReply,\n  editComment,\n  deleteComment,\n  setDeleteModalState,\n}) => {\n  return (\n    <div className=\"reply-container\">\n      {commentData.map((data) => (\n        <Reply\n          key={data.id}\n          commentData={data}\n          updateScore={updateScore}\n          addNewReply={addReply}\n          editComment={editComment}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      ))}\n    </div>\n  );\n};\n/* Блок ответа */\n\n\n/* Удаление модалки */\nconst DeleteModal = ({ setDeleting, deleteComment, setDeleteModalState }) => {\n  const cancelDelete = () => {\n    setDeleting(false);\n    setDeleteModalState(false);\n  };\n\n  const deleteBtnClick = () => {\n    deleteComment();\n    setDeleteModalState(false);\n  };\n\n  return (\n    <div className=\"delete-confirmation-wrapper\">\n      <div className=\"delete-container\">\n        <div className=\"title\">Delete comment</div>\n        <div className=\"confirmation-message\">\n          Are you sure you want to delete this comment? This will remove the\n          comment and can't be undone.\n        </div>\n        <div className=\"btn-container\">\n          <button className=\"cancel-btn\" onClick={cancelDelete}>\n            No, cancel\n          </button>\n          <button className=\"delete-btn\" onClick={deleteBtnClick}>\n            Yes, delete\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n/* Удаление модалки */\n\n\n/* Ответы */\nconst Reply = ({\n  commentData,\n  updateScore,\n  addNewReply,\n  editComment,\n  deleteComment,\n  setDeleteModalState,\n}) => {\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  // adding reply\n  const addReply = (newReply) => {\n    addNewReply(newReply);\n    setReplying(false);\n  };\n\n  const commentContent = () => {\n    const text = commentData.content.trim().split(\" \");\n    const firstWord = text.shift().split(\",\");\n\n    return !editing ? (\n      <div className=\"comment-content\">\n        <span className=\"replyingTo\">{firstWord}</span>\n        {text.join(\" \")}\n      </div>\n    ) : (\n      <textarea\n        className=\"content-edit-box\"\n        value={content}\n        onChange={(e) => {\n          setContent(e.target.value);\n        }}\n      />\n    );\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"reply\");\n    setEditing(false);\n  };\n\n  // delete comment\n  const deleteReply = () => {\n    deleteComment(commentData.id, \"reply\");\n    setDeleting(false);\n  };\n\n  return (\n    <div\n      className={`comment-container ${\n        commentData.replies[0] !== undefined ? \"gap\" : \"\"\n      }`}\n    >\n      <div className=\"comment\">\n        <CommentVotes\n          updateScore={updateScore}\n          commentData={commentData}\n          type=\"reply\"\n        />\n        <div className=\"comment--body\">\n          <CommentHeader\n            commentData={commentData}\n            setReplying={setReplying}\n            setDeleting={setDeleting}\n            setDeleteModalState={setDeleteModalState}\n            setEditing={setEditing}\n          />\n\n          {commentContent()}\n          {editing && (\n            <button className=\"update-btn\" onClick={updateComment}>\n              update\n            </button>\n          )}\n        </div>\n        <CommentFooter\n          updateScore={updateScore}\n          commentData={commentData}\n          setReplying={setReplying}\n          setDeleting={setDeleting}\n          setDeleteModalState={setDeleteModalState}\n          setEditing={setEditing}\n          type=\"reply\"\n        />\n      </div>\n\n      {replying && (\n        <AddComment\n          buttonValue={\"reply\"}\n          addComments={addReply}\n          replyingTo={commentData.username}\n        />\n      )}\n      {commentData.replies.map((reply) => (\n        <Reply key={reply.id} commentData={reply} addReply={addReply} />\n      ))}\n\n      {deleting && (\n        <DeleteModal\n          setDeleting={setDeleting}\n          deleteComment={deleteReply}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n    </div>\n  );\n};\n/* Ответы */\n\n\n\nconst Comment = ({\n  commentData,\n  updateScore,\n  updateReplies,\n  editComment,\n  commentDelete,\n  setDeleteModalState,\n}) => {\n  const [replying, setReplying] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  const addReply = (newReply) => {\n    const replies = [...commentData.replies, newReply];\n    updateReplies(replies, commentData.id);\n    setReplying(false);\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"comment\");\n    setEditing(false);\n  };\n\n  const deleteComment = (id, type) => {\n    const finalType = type !== undefined ? type : \"comment\";\n    const finalId = id !== undefined ? id : commentData.id;\n    commentDelete(finalId, finalType, commentData.id);\n    setDeleting(false);\n  };\n\n  return (\n    <div\n      className={`comment-container ${\n        commentData.replies[0] !== undefined ? \"reply-container-gap\" : \"\"\n      }`}\n    >\n      <div className=\"comment\">\n        <CommentVotes\n          updateScore={updateScore}\n          commentData={commentData}\n          type=\"comment\"\n        />\n        <div className=\"comment--body\">\n          <CommentHeader\n            commentData={commentData}\n            replying={replying}\n            setReplying={setReplying}\n            setDeleting={setDeleting}\n            setDeleteModalState={setDeleteModalState}\n            setEditing={setEditing}\n          />\n          {!editing ? (\n            <div className=\"comment-content\">{commentData.content}</div>\n          ) : (\n            <textarea\n              className=\"content-edit-box\"\n              value={content}\n              onChange={(e) => {\n                setContent(e.target.value);\n              }}\n            />\n          )}\n          {editing && (\n            <button className=\"update-btn\" onClick={updateComment}>\n              update\n            </button>\n          )}\n        </div>\n        <CommentFooter\n          updateScore={updateScore}\n          commentData={commentData}\n          setReplying={setReplying}\n          setDeleting={setDeleting}\n          setDeleteModalState={setDeleteModalState}\n          setEditing={setEditing}\n          type=\"comment\"\n        />{\" \"}\n      </div>\n\n      {replying && (\n        <AddComment\n          buttonValue={\"reply\"}\n          addComments={addReply}\n          replyingTo={commentData.username}\n        />\n      )}\n      {commentData.replies !== [] && (\n        <ReplyContainer\n          key={commentData.replies.id}\n          commentData={commentData.replies}\n          updateScore={updateScore}\n          addReply={addReply}\n          editComment={editComment}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n\n      {deleting && (\n        <DeleteModal\n          setDeleting={setDeleting}\n          deleteComment={deleteComment}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n    </div>\n  );\n};\n\nexport {\n  Comment,\n  Reply,\n  AddComment,\n  DeleteModal,\n  ReplyContainer,\n}\n\n"]},"metadata":{},"sourceType":"module"}